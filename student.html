<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Panel Estudiante - Shark Learns</title>
    <link rel="stylesheet" href="css/student.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@600&display=swap"
      rel="stylesheet"
    />
  </head>
  <body class="student-body">
    <!-- Header del Panel Estudiante -->
    <header class="student-header">
      <div class="header-content">
        <div class="logo-section">
          <img src="img/shark-logo.png" alt="Shark Logo" class="header-logo" />
          <h1>🦈 Shark Learns - Mi Panel</h1>
        </div>
        <div class="user-section">
          <span class="welcome-text"
            >Hola, <span id="student-name">Estudiante</span></span
          >
          <button id="logout-btn" class="logout-btn">🚪 Cerrar Sesión</button>
        </div>
      </div>
    </header>

    <!-- Contenido Principal -->
    <main class="student-main">
      <!-- Sección de Bienvenida y Estadísticas -->
      <section class="welcome-section">
        <div class="welcome-card">
          <div class="welcome-content">
            <h2>🌊 ¡Bienvenido de vuelta, Explorador!</h2>
            <p>🚀 Sumérgete en el océano del conocimiento y descubre nuevas aventuras matemáticas</p>
            <button class="play-btn" onclick="startGame()">
              🎮 ¡Comenzar Aventura!
            </button>
          </div>
          <div class="shark-animation">
            <div class="swimming-shark">🦈</div>
          </div>
        </div>
      </section>

      <!-- Estadísticas del Estudiante -->
      <section class="stats-section">
        <h3>📊 Panel de Logros</h3>
        <div class="student-stats-grid">
          <div class="stat-card">
            <div class="stat-icon">🎮</div>
            <div class="stat-content">
              <h4>Aventuras Completadas</h4>
              <p class="stat-number" id="total-games">-</p>
            </div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">🏆</div>
            <div class="stat-content">
              <h4>Récord Personal</h4>
              <p class="stat-number" id="best-score">-</p>
            </div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">📊</div>
            <div class="stat-content">
              <h4>Puntuación Media</h4>
              <p class="stat-number" id="avg-score">-</p>
            </div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">🎯</div>
            <div class="stat-content">
              <h4>Tasa de Acierto</h4>
              <p class="stat-number" id="accuracy">-</p>
            </div>
          </div>
        </div>
      </section>

      <!-- Historial de Partidas -->
      <section class="history-section">
        <div class="section-header">
          <h3>🏛️ Bitácora de Aventuras</h3>
          <button id="refresh-history" class="refresh-btn">
            🔄 Actualizar Registro
          </button>
        </div>
        <div class="games-container">
          <div id="games-list" class="games-list">
            <!-- Las partidas se cargarán dinámicamente -->
          </div>
        </div>
      </section>

      <!-- Perfil del Estudiante -->
      <section class="profile-section">
        <h3>🧭 Centro de Comando</h3>
        <div class="profile-card">
          <div class="profile-info">
            <p><strong>📧 Comunicador:</strong> <span id="student-email">-</span></p>
            <p>
              <strong>🚀 Misión Iniciada:</strong>
              <span id="registration-date">-</span>
            </p>
            <p>
              <strong>🎖️ Rango Actual:</strong>
              <span id="student-level">🌊 Explorador Novato</span>
            </p>
          </div>
          <div class="profile-actions">
            <button class="profile-btn" onclick="editProfile()">
              ⚙️ Configurar Perfil
            </button>
          </div>
        </div>
      </section>
    </main>

    <!-- Modal de Configuración de Perfil -->
    <div id="profile-modal" class="modal-overlay">
      <div class="modal-content">
        <div class="modal-header">
          <h3>⚙️ Configurar Perfil</h3>
          <button class="modal-close" onclick="closeProfileModal()">&times;</button>
        </div>
        <form id="profile-form" class="modal-form">
          <div class="form-group">
            <label for="profile-name">👤 Nombre de Usuario</label>
            <input type="text" id="profile-name" name="name" required>
          </div>
          <div class="form-group">
            <label for="current-password">🔒 Contraseña Actual</label>
            <input type="password" id="current-password" name="currentPassword" placeholder="Ingresa tu contraseña actual">
          </div>
          <div class="form-group">
            <label for="new-password">🔑 Nueva Contraseña (opcional)</label>
            <input type="password" id="new-password" name="newPassword" placeholder="Deja vacío para mantener la actual">
          </div>
          <div class="form-group">
            <label for="confirm-password">✅ Confirmar Nueva Contraseña</label>
            <input type="password" id="confirm-password" name="confirmPassword" placeholder="Confirma la nueva contraseña">
          </div>
          <div class="modal-actions">
            <button type="button" class="btn-secondary" onclick="closeProfileModal()">❌ Cancelar</button>
            <button type="submit" class="btn-primary">💾 Guardar Cambios</button>
          </div>
        </form>
      </div>
    </div>

    <!-- Loading Overlay -->
    <div id="loading-overlay" class="loading-overlay">
      <div class="loading-spinner">
        <div class="shark-loading">🦈</div>
        <p>Cargando...</p>
      </div>
    </div>

    <!-- Scripts -->
    <script src="js/student.js"></script>
  </body>
</html>
